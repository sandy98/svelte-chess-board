<!doctype html>
<html>
<head>
	<meta charset='utf-8'>
	<meta name='viewport' content='width=device-width'>

	<title>Chess Board</title>

	<link rel='icon' type='image/png' href='/favicon.png'>
	<link rel='stylesheet' href='/global.css'>
	<link rel='stylesheet' href='/chess-board.css'>

	<script defer src='/chess-board.js'></script>
	<h3 style="color: steelblue; text-align: center;">Svelte Chess Board</h3>
	<p style="margin-left: 2rem; color: silver;">
		<span>Version</span>&nbsp;&nbsp;&nbsp;<span id="version"></span>
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		<button id="btnAnalyze" onclick="board.analyze()">Play!</button>
		&nbsp;
		<button id="btnConfig" onclick="board.config()">Configure Board</button>
		&nbsp;
		<button id="btnSetup" onclick="board.setup()">Setup Board</button>
		&nbsp;
	</p>
	<div style="display: flex; flex-direction: column; width: 100%; min-width: 100%; padding: 5px; align-items: center;">
		<chess-board id="bd1"/>
	</div>

	<script>
		var board;
		var tries = 0;
		var init = () => {
			console.clear()
			console.log('Trying to get a reference to board, attempt NÂº ', ++tries)
			board = document.querySelector('#bd1')
			if (board && board.setStatus && board.setStatus.constructor.name === 'Function') {
				//board.setStatus('setup')
				document.querySelector('#version').innerHTML = board.version
				console.log('Done!')
			} else {
				setTimeout(init, 100)
			}
		}

		setTimeout(init, 100)
	</script>
</head>

<body>
</body>
</html>
